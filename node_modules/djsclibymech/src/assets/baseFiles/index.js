const Discord = require('discord.js');
const client = new Discord.Client({ partials: ["MESSAGE", "USER", "REACTION"] });
const path = require('path');
const fs = require('fs');
const config = require('./config.json');

module.exports = client;

client.commands = new Discord.Collection();
client.snipes = new Map();
client.queue = new Map();
client.categories = fs.readdirSync(path.resolve('commands'));

["command", "event"].forEach(handler => {
    require(path.resolve(`handlers/${handler}`))(client);
});

client.login(config.token)